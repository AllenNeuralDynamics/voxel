[project]
name = "voxelstack"
description = "Python Tools for building SPIM software"
authors = [
    { name = "Adam Glaser", email = "adam.glaser@alleninstitute.org" },
    { name = "Walter Mwaniki", email = "walter.mwaniki@alleninstitute.org" },
]
readme = "README.md"
license-files = ["LICENSE"]
requires-python = ">=3.12.7"
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Operating System :: OS Independent",
]
keywords = ["microscopy", "light-sheet", "lightsheet", "microscope", "imaging"]
version = "0.1.0"

dependencies = ["voxel[all]", "vidgets", "exaspim-control"]

[dependency-groups]
dev = ["ruff>=0.8.0", "pytest>=8.2.1"]

[tool.uv.workspace]
members = [
    "python/voxel",
    "python/vidgets",
    "microscopes/extreme",
    "microscopes/exaspim-control",
]

[tool.uv.sources]
"voxel" = { workspace = true }
"vidgets" = { workspace = true }
"exaspim-control" = { workspace = true }

[build-system]
requires = ["uv_build>=0.8.2,<0.9.0"]
build-backend = "uv_build"

[tool.tach]
source_roots = ["**/src"]
exclude = ["**/sdk/"]
external.rename = [
    "ruamel:ruamel_yaml",
    "serial:pyserial",
    "pylablib:pylablib_lightweight",
    "pyvisa:pyvisa_py",
    "cv2:opencv_python",
    "skimage:scikit_image",
    "PyImarisWriter:pyimariswriter",
]
