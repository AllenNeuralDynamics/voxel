_templates:
  default_camera: &default_camera
    target: voxel.devices.simulated.camera.SimulatedCamera
    kwargs:
      pixel_size_um: "0.5, 0.5"

metadata:
  uid: mock_instrument_1
  model: Mock Instrument
  description: A mock instrument for testing purposes
  location: mock_lab

nodes:
  main:
    type: local
    devices:
      nidaq:
        target: voxel.daq.VoxelNiDAQ
        kwargs:
          conn: "Dev1"
      laser_488:
        target: voxel.devices.simulated.laser.SimulatedLaser
        kwargs: { wavelength: 488 }
      laser_561:
        target: voxel.devices.simulated.laser.SimulatedLaser
        kwargs: { wavelength: 561 }
      fw_main:
        target: voxel.devices.simulated.filter_wheel.SimulatedFilterWheel
        kwargs:
          filters: { 0: LP420, 1: LP570 } # DAPI/GFP Emission, RFP/FarRed Emission
      x_axis:
        target: voxel.devices.simulated.linear_axis.SimulatedLinearAxis
        kwargs:
          dimension: X
      y_axis:
        target: voxel.devices.simulated.linear_axis.SimulatedLinearAxis
        kwargs:
          dimension: Y
      z_axis:
        target: voxel.devices.simulated.linear_axis.SimulatedLinearAxis
        kwargs:
          dimension: Z

  remote_1:
    host: localhost
    rpc_port: 6001
    devices:
      camera_1:
        <<: *default_camera
  remote_2:
    host: localhost
    rpc_port: 6002
    devices:
      camera_2:
        <<: *default_camera
  remote_3:
    host: localhost
    rpc_port: 6003
    devices:
      camera_3:
        <<: *default_camera
  remote_4:
    host: localhost
    rpc_port: 6004
    devices:
      camera_4:
        <<: *default_camera

    ############################
    ## pinky
    # host: 192.169.86.76
    # ssh_user: walter-mwaniki
    # ssh_key: id_voxel2
    #############################

    #############################
    # ## work-mac
    # host: 10.128.200.249
    # ssh_user: walter.mwaniki
    # ssh_key: id_voxel2
    #############################

layout:
  stage: { x: x_axis, y: y_axis, z: z_axis }
  detection:
    camera_1:
      filter_wheels: [fw_main]
    camera_2:
      filter_wheels: [fw_main]
    camera_3:
      filter_wheels: [fw_main]
    camera_4:
      filter_wheels: [fw_main]
  illumination:
    laser_488: {}
    laser_561: {}
  daq:
    device: nidaq
    ports: # TODO: consider reversing this order
      camera_1: ao1
      camera_2: ao2
      camera_3: ao3
      camera_4: ao4
      galvo_scan: ao5
      voice_coil: ao6
      voice_coil_2: ao7
      laser_1: ao11
      laser_2: ao12
      laser_3: ao13
      laser_4: ao14
      laser_5: ao15
      laser_6: ao16
      laser_7: ao17
      laser_8: ao18
